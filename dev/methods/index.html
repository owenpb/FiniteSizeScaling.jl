<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Methods · FiniteSizeScaling.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link rel="canonical" href="https://owenpb.github.io/FiniteSizeScaling.jl/methods/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="FiniteSizeScaling.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">FiniteSizeScaling.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href>Methods</a></li><li><a class="tocitem" href="../example_page/">Example: Holstein model</a></li><li><a class="tocitem" href="../demo_1/">Demo 1: One-parameter scaling</a></li><li><a class="tocitem" href="../demo_2/">Demo 2: Two-parameter scaling</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Methods</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Methods</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/owenpb/FiniteSizeScaling.jl/blob/master/docs/src/methods.md#" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h1><p>A list of all available methods in the FiniteSizeScaling module.</p><ul><li><a href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>FiniteSizeScaling.fss_one_var</code></a></li><li><a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>FiniteSizeScaling.fss_two_var</code></a></li><li><a href="#FiniteSizeScaling.plot_contour-Tuple{AbstractArray}"><code>FiniteSizeScaling.plot_contour</code></a></li><li><a href="#FiniteSizeScaling.plot_data-Tuple{AbstractArray}"><code>FiniteSizeScaling.plot_data</code></a></li><li><a href="#FiniteSizeScaling.plot_residuals-Tuple{AbstractVector}"><code>FiniteSizeScaling.plot_residuals</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="FiniteSizeScaling.fss_one_var-Tuple{}" href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>FiniteSizeScaling.fss_one_var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fss_one_var(; data::AbstractVector, xs::Function, ys::Function, v1i::Real, v1f::Real, n1::Int, p::Int, weights::AbstractArray=nothing, norm_y::Bool=false, verbose::Bool=true)</code></pre><p>Performs finite size scaling with one optimized parameter v1.</p><p><strong>Arguments:</strong></p><ul><li><code>data::AbstractVector</code>: An array of input data, where each element is an array of [X, Y, E, L] data for a given lattice size (error E optional). The length of <code>data</code> should equal the number of lattice sizes.</li><li><code>xs::Function</code>: A function of the variables (X, L, v1) which specifies how the data is to be scaled horizontally.</li><li><code>ys::Function</code>: A function of the variables (Y, L, v1) which specifies how the data is to be scaled vertically.</li><li><code>v1i::Real</code>: Initial value of v1 used in the search for optimal fit.</li><li><code>v1f::Real</code>: Final value of v1 used in the search for optimal fit.</li><li><code>n1::Int</code>: Number of v1 values used in the search for optimal fit.</li><li><code>p::Int</code>: Degree of polynomial used in the fitting.</li><li><code>weights::AbstractVector</code>: An optional array of weight data, where each element is an array of weights for a given lattice size. The length of <code>weights</code> should equal the number of lattice sizes. These weights multiply the squared residuals when performing the fit, and are typically inverse variances (1./ (E.^2)) for weighted least-squares.</li><li><code>norm_y::Bool</code>: If true, each residual calculated (when evaluating the fit) is divided by the y-value of the data point. Recommended if sweeping through v1 changes the y-axis scale.</li><li><code>verbose:Bool</code>: If true, prints the optimal v1 value and the magnitude of the smallest residual.</li></ul><p><strong>Returns:</strong></p><ul><li><code>scaled_data_array</code>: An array of scaled data, where each element is an array of [Xs, Ys, E, L] data for a given lattice size (error E optional). The length of <code>scaled_data_array</code> should equal the number of lattice sizes.</li><li><code>residuals</code>: An array of length n1 with values of the sum of squared residuals for each value of v1 used in the search.</li><li><code>min_res</code>: The smallest value of the sum of squared residuals found in the search.</li><li><code>best_v1</code>: The optimal value of v1 found in the search.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/owenpb/FiniteSizeScaling.jl/blob/8267c1b419a173d36536bc8500c70d745d944dd4/src/FiniteSizeScaling.jl#L14-L38">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FiniteSizeScaling.fss_two_var-Tuple{}" href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>FiniteSizeScaling.fss_two_var</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fss_two_var(; data::AbstractVector, xs::Function, ys::Function, v1i::Real, v1f::Real, n1::Int, v2i::Real, v2f::Real, n2::Int, p::Int, weights::AbstractArray=nothing, norm_y::Bool=false, verbose::Bool=true)</code></pre><p>Performs finite size scaling with two optimized parameters v1 and v2.</p><p><strong>Arguments:</strong></p><ul><li><code>data::AbstractVector</code>: An array of input data, where each element is an array of [X, Y, E, L] data for a given lattice size (error E optional). The length of <code>data</code> should equal the number of lattice sizes.</li><li><code>xs::Function</code>: A function of the variables (X, L, v1, v2) which specifies how the data is to be scaled horizontally.</li><li><code>ys::Function</code>: A function of the variables (Y, L, v1, v2) which specifies how the data is to be scaled vertically.</li><li><code>v1i::Real</code>: Initial value of v1 used in the search for optimal fit.</li><li><code>v1f::Real</code>: Final value of v1 used in the search for optimal fit.</li><li><code>n1::Int</code>: Number of v1 values used in the search for optimal fit.</li><li><code>v2i::Real</code>: Initial value of v2 used in the search for optimal fit.</li><li><code>v2f::Real</code>: Final value of v2 used in the search for optimal fit.</li><li><code>n2::Int</code>: Number of v2 values used in the search for optimal fit.</li><li><code>p::Int</code>: Degree of polynomial used in the fitting.</li><li><code>weights::AbstractArray</code>: An optional array of weight data, where each element is an array of weights for a given lattice size. The length of <code>weights</code> should equal the number of lattice sizes. These weights multiply the squared residuals when performing the fit, and are typically inverse variances (1./ (E.^2)) for weighted least-squares.</li><li><code>norm_y::Bool</code>: If true, each residual calculated (when evaluating the fit) is divided by the y-value of the data point. Recommended if sweeping through v1 or v2 changes the y-axis scale.</li><li><code>verbose::Bool</code>: If true, prints the optimal v1 value and the magnitude of the smallest residual.</li></ul><p><strong>Returns:</strong></p><ul><li><code>scaled_data_array</code>: An array of scaled data, where each element is an array of [Xs, Ys, E, L] data for a given lattice size (error E optional). The length of <code>scaled_data_array</code> should equal the number of lattice sizes.</li><li><code>residuals</code>: An array of dimensions (n2, n1) with values of the sum of squared residuals for each pair of (v2, v1) values used in the search.</li><li><code>min_res</code>: The smallest value of the sum of squared residuals found in the search.</li><li><code>best_v1</code>: The optimal value of v1 found in the search.</li><li><code>best_v2</code>: The optimal value of v2 found in the search.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/owenpb/FiniteSizeScaling.jl/blob/8267c1b419a173d36536bc8500c70d745d944dd4/src/FiniteSizeScaling.jl#L126-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FiniteSizeScaling.plot_contour-Tuple{AbstractArray}" href="#FiniteSizeScaling.plot_contour-Tuple{AbstractArray}"><code>FiniteSizeScaling.plot_contour</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_contour(residuals::AbstractArray; v1i::Real, v1f::Real, n1::Int, v2i::Real, v2f::Real, n2::Int, levels, fill::Bool=true, logspace::Bool=true, xlabel::AbstractString=L&quot;$v_1$&quot;, ylabel::AbstractString=L&quot;$v_2$&quot;, xguidefontsize::Real=16, yguidefontsize::Real=16, xtickfontsize::Real=10, ytickfontsize::Real=10, color::Symbol=:algae, markershape::Symbol=:star4, markersize::Real=6, markercolor::Symbol=:yellow, size::Tuple=(800,500))</code></pre><p>Produces a contour plot showing the sum of squared residuals as a function of v1 (x-axis) and v2 (y-axis) after two-parameter scaling has been performed using <a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>fss_two_var</code></a>. The optimal values of v1 and v2 are indicated on the plot.    </p><p><strong>Arguments:</strong></p><ul><li><code>residuals::AbstractArray</code>: Two-dimensional array of residual values obtained after two-parameter fit has been performed. This is the array <code>residuals</code> returned by the function <a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>fss_two_var</code></a>.</li><li><code>v1i::Real</code>: Initial value of v1 used in the search for optimal fit. Should be the same value used when calling the function <a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>fss_two_var</code></a>.</li><li><code>v1f::Real</code>: Final value of v1 used in the search for optimal fit. Should be the same value used when calling the function <a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>fss_two_var</code></a>.</li><li><code>n1::Int</code>: Number of v1 values used in the search for optimal fit. Should be the same value used when calling the function <a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>fss_two_var</code></a>.</li><li><code>levels</code>: Can be an integer or an array. If an integer, this specfies the number of contour lines drawn. If an array, contour lines are drawn at the exact levels specified in the array.</li><li><code>fill::Bool</code>: If true, fills in the contour plot with solid color.</li><li><code>logspace::Bool</code> If true, contour lines are spaced logarithmically. Recommended if a higher density of contour lines near the minima is desired.</li><li><code>xlabel::AbstractString</code>: Label for the horizontal axis. Can be a <a href="https://github.com/stevengj/LaTeXStrings.jl">LaTexString</a> e.g. L&quot;x&quot;.</li><li><code>ylabel::AbstractString</code>: Label for the vertical axis. Can be a <a href="https://github.com/stevengj/LaTeXStrings.jl">LaTexString</a> e.g. L&quot;y&quot;. </li><li><code>xguidefontsize::Real</code>: Font size for x-axis label.</li><li><code>yguidefontsize::Real</code>: Font size for y-axis label.</li><li><code>xtickfontsize::Real</code>: Font size for x-axis ticks.</li><li><code>ytickfontsize::Real</code>: Font size for y-axis ticks.</li><li><code>color::Symbol</code>: Color scheme used in contour plot. Symbol can be any color scheme supported by <a href="https://docs.juliaplots.org/stable/generated/colorschemes/">Plots.jl</a>.</li><li><code>markershape::Symbol</code>: Shape of marker used to pinpoint the optimal parameter values. Can be any markershape Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_series/">Plots.jl</a>.</li><li><code>markersize::Real</code>: Size of marker used to pinpoint the optimal parameter values. </li><li><code>markercolor::Symbol</code>: Color of marker used to pinpoint the optimal parameter values. Can be any markercolor Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_series/">Plots.jl</a>.</li><li><code>size::Tuple</code>: Size of contour plot drawn.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/owenpb/FiniteSizeScaling.jl/blob/8267c1b419a173d36536bc8500c70d745d944dd4/src/FiniteSizeScaling.jl#L348-L374">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FiniteSizeScaling.plot_data-Tuple{AbstractArray}" href="#FiniteSizeScaling.plot_data-Tuple{AbstractArray}"><code>FiniteSizeScaling.plot_data</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_data(data::AbstractArray; xlabel::AbstractString=L&quot;$x$&quot;, ylabel::AbstractString=L&quot;$y$&quot;, xguidefontsize::Real=16, yguidefontsize::Real=16, xtickfontsize::Real=10, ytickfontsize::Real=10, legend::Symbol=:topleft, legendfontsize::Real=10, markershape::Symbol=:circle, markersize::Real=4, palette::Symbol=:tab10, size::Tuple=(600,400))</code></pre><p>Plots the data (either the unscaled data, or the optimal collapse of scaled data) for different lattice sizes. </p><p><strong>Arguments:</strong></p><ul><li><code>data::AbstractArray</code>: An array of input data, where each element is an array of [X, Y, E, L] data for a given lattice size (error E optional). The length of <code>data</code> should equal the number of lattice sizes. This could be the <code>scaled_data_array</code> returned by <a href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>fss_one_var</code></a> or <a href="#FiniteSizeScaling.fss_two_var-Tuple{}"><code>fss_two_var</code></a>, giving a plot of the best data collapse.</li><li><code>xlabel::AbstractString</code>: Label for the horizontal axis. Can be a <a href="https://github.com/stevengj/LaTeXStrings.jl">LaTexString</a> e.g. L&quot;x&quot;.</li><li><code>ylabel::AbstractString</code>: Label for the vertical axis. Can be a <a href="https://github.com/stevengj/LaTeXStrings.jl">LaTexString</a> e.g. L&quot;y&quot;. </li><li><code>xguidefontsize::Real</code>: Font size for x-axis label.</li><li><code>yguidefontsize::Real</code>: Font size for y-axis label.</li><li><code>xtickfontsize::Real</code>: Font size for x-axis ticks.</li><li><code>ytickfontsize::Real</code>: Font size for y-axis ticks.</li><li><code>legend::Symbol</code>: Position of legend. Can be any legend Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_subplot/">Plots.jl</a>.</li><li><code>legendfontsize::Real</code>: Font size used in legend.</li><li><code>markershape::Symbol</code>: Shape of markers used in scatter plot. Can be any markershape Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_series/">Plots.jl</a>.</li><li><code>markersize::Real</code>: Size of markers used in scatter plot.</li><li><code>palette::Symbol</code>: Color scheme used in scatter plot. Symbol can be any color scheme supported by <a href="https://docs.juliaplots.org/stable/generated/colorschemes/">Plots.jl</a>.</li><li><code>size::Tuple</code>: Dimensions of scatter plot drawn.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/owenpb/FiniteSizeScaling.jl/blob/8267c1b419a173d36536bc8500c70d745d944dd4/src/FiniteSizeScaling.jl#L254-L274">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="FiniteSizeScaling.plot_residuals-Tuple{AbstractVector}" href="#FiniteSizeScaling.plot_residuals-Tuple{AbstractVector}"><code>FiniteSizeScaling.plot_residuals</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">plot_residuals(data::AbstractArray; xlabel::AbstractString=L&quot;$x$&quot;, ylabel::AbstractString=L&quot;$y$&quot;, xguidefontsize::Real=16, yguidefontsize::Real=16, xtickfontsize::Real=10, ytickfontsize::Real=10, legend::Symbol=:topleft, legendfontsize::Real=10, markershape::Symbol=:circle, markersize::Real=4, palette::Symbol=:tab10, size::Tuple=(600,400))</code></pre><p>Plots the sum of squared residuals (calculated with <code>fss_one_var</code>) as a function of v1, after one-parameter scaling has been performed. </p><p><strong>Arguments:</strong></p><ul><li><code>residuals::AbstractVector</code>: A vector containing values of the sum of squared residuals for each v1 value used in the optimization search. This is the vector <code>residuals</code> returned by the <a href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>fss_one_var</code></a> function.</li><li><code>v1i::Real</code>: Initial value of v1 used in the search for optimal fit. Should be the same value used when calling the function <a href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>fss_one_var</code></a>.</li><li><code>v1f::Real</code>: Final value of v1 used in the search for optimal fit. Should be the same value used when calling the function <a href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>fss_one_var</code></a>.</li><li><code>n1::Int</code>: Number of v1 values used in the search for optimal fit. Should be the same value used when calling the function <a href="#FiniteSizeScaling.fss_one_var-Tuple{}"><code>fss_one_var</code></a>.</li><li><code>xlabel::AbstractString</code>: Label for the horizontal axis. Can be a <a href="https://github.com/stevengj/LaTeXStrings.jl">LaTexString</a> e.g. L&quot;x&quot;.</li><li><code>ylabel::AbstractString</code>: Label for the vertical axis. Can be a <a href="https://github.com/stevengj/LaTeXStrings.jl">LaTexString</a> e.g. L&quot;y&quot;. </li><li><code>xguidefontsize::Real</code>: Font size for x-axis label.</li><li><code>yguidefontsize::Real</code>: Font size for y-axis label.</li><li><code>xtickfontsize::Real</code>: Font size for x-axis ticks.</li><li><code>ytickfontsize::Real</code>: Font size for y-axis ticks.</li><li><code>markershape::Symbol</code>: Shape of markers used in plot. Can be any markershape Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_series/">Plots.jl</a>.</li><li><code>markercolor::Symbol</code>: Color of markers used in plot. Can be markercolor Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_series/">Plots.jl</a>.</li><li><code>markersize::Real</code>: Size of markers used in plot.</li><li><code>linewidth::Real</code>: Width of line used in plot.</li><li><code>linecolor::Symbol</code>: Color of line used in plot. Symbol can be any linecolor Symbol defined in <a href="https://docs.juliaplots.org/stable/generated/attributes_series/">Plots.jl</a>.</li><li><code>size::Tuple</code>: Dimensions of scatter plot drawn.</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/owenpb/FiniteSizeScaling.jl/blob/8267c1b419a173d36536bc8500c70d745d944dd4/src/FiniteSizeScaling.jl#L307-L330">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../example_page/">Example: Holstein model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.15 on <span class="colophon-date" title="Friday 17 June 2022 10:15">Friday 17 June 2022</span>. Using Julia version 1.7.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
